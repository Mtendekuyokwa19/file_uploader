<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>umunthu files</title>
		<link rel="stylesheet" href="./style.css">
</head>

<body class="bg-[#2E3440] text-[#fffaf3] h-screen max-h-screen flex flex-col items-stretch">

		<nav class="flex justify-between p-4 list-none bg-[#81a1c1]">
			<li> <h1><a href="/">Umunthu</a></h1> </li>
			<section class="flex gap-2">
			<li><a href="/">Home</a></li>
				<% if(locals.user){%>

			<li><a href="/logout">logout</a></li>
				<% }
				else{%>

			<li><a href="login">Login</a></li>
			<li><a href="/signup">Signup</a></li>
				<%}
				%>
			<li>Github</li>
			</section>

		</nav>
		<main  class=" gap-7 flex  justify-start flex-1 items-start flex-col">
			<button class="absolute left-5/6 top-3/4 bg-blue-600 p-4 font-bold text-xl rounded-lg" title="newfile" id="newfile">+ </button>
<section class="w-56 h-screen bg-slate-600 rounded-md"> 
<section class="flex flex-col gap-2 items-center "> 


			<button id="openmodal" class="bg-green-600 p-2 my-4">+ Add Folder</button>

				</section>

				<% folder.forEach((newfolder)=>{%>

<section class="flex flex-col justify-center items-center"> 
<div> 
<svg xmlns="http://www.w3.org/2000/svg" class="fill-[#d8dee9]"  x="0px" y="0px" width="50" height="50" viewBox="0 0 50 50">
<path d="M45 8L18.044 8.006c-.279-.101-.855-1.02-1.165-1.514C16.112 5.268 15.317 4 14 4H5C3.346 4 2 5.346 2 7v6h1 44 1v-2C48 9.346 46.654 8 45 8zM48 43V16c0-.552-.448-1-1-1H3c-.552 0-1 .448-1 1v27c0 1.657 1.343 3 3 3h40C46.657 46 48 44.657 48 43z"></path>
</svg>
				</div>
					<h3><a href=<%=newfolder.title%> ><%=newfolder.title%></a></h3>

			</section>


				<%}) %>

			</section>

<dialog class="dialogboxfile absolute top-1/3 left-5/12 w-96 h-56   rounded-md text-white bg-slate-600">
			<form method="POST" action=<%="/newfile/"+slug%> class="flex flex-col justify-center items-center my-4 gap-2 ">
					<p class="font-bold">New File</p>
<label for="file">file Name</label>
				<input id="file" name="filename" type="text" class=" bg-slate-300 text-black">

				<input id="Folder" name="file" type="file" class=" bg-slate-300 text-black">
<div class="flex gap-2"> 
<button type="submit" class="p-2 bg-[#5e81ac] rounded-md shadow-md ">Upload</button>
<button class="p-2 bg-red-800 rounded-md shadow-md " id="closefile">Close</button>
</div>
					</form>
				</dialog>

<dialog class="dialog absolute top-1/3 left-5/12 w-96 h-56   rounded-md text-white bg-slate-600">
					<form method="POST" action="/newfolder" class="flex flex-col justify-center items-center my-4 gap-2 ">
					<p class="font-bold">New Folder</p>
<label for="Folder">Folder Name</label>
				<input id="Folder" name="foldername" type="text" class=" bg-slate-300 text-black">
<div class="flex gap-2"> 
<button type="submit" class="p-2 bg-[#5e81ac] rounded-md shadow-md ">Create</button>
<button class="p-2 bg-red-800 rounded-md shadow-md " id="close">Close</button>
</div>
					</form>
				</dialog>


<section class="flex flex-col justify-center items-center"> 
<div> 
<svg xmlns="http://www.w3.org/2000/svg" class="fill-blue-100" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
<path d="M 30.398438 2 L 7 2 L 7 48 L 43 48 L 43 14.601563 Z M 30 15 L 30 4.398438 L 40.601563 15 Z"></path>
</svg>
				</div>
<h3>File</h3>

			</section>

		</main> 
<footer class=" flex p-4 justify-between border-t-2 border-t-gray-400">
			<h1> copyright of otis</h1>
<ul class="flex gap-2 "> 
<li><a href="">Twitter</a></li>
<li><a href="www.github.come">github</a></li>
<li><a href="">Bluesky</a></li>
			</ul>


		</footer>
		<script>
		let btn=document.getElementById("openmodal")
		let close=document.getElementById("close")
		let newfilebtn=document.getElementById("newfile")
		let closefilebtn=document.getElementById("closefile")
let dialgboxfile=document.querySelector(".dialogboxfile")
let dialgbox=document.querySelector(".dialog")
		console.log( btn )
		closefilebtn.addEventListener("click",function(e){ 

		e.preventDefault()
dialgboxfile.close()
		})
		newfilebtn.addEventListener("click",function(){ 
dialgboxfile.showModal()
		})
		btn.addEventListener("click",function(){
dialgbox.showModal()

		})

		close.addEventListener("click",function(e){
dialgbox.close()

		e.preventDefault()
		})
		</script>
</body>
</html>
